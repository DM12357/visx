(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[45],{"3Ng6":function(e){e.exports=JSON.parse('{"name":"@visx/demo-annotation","description":"Standalone visx annotation demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^17","@types/react-dom":"^17","@visx/annotation":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","d3-array":"^2.8.0","react":"^17","react-dom":"^17","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","annotation"]}')},HbGN:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return a}))},erk3:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return _}));var a=n("HbGN"),r=n("jg1C"),c=n("ERkP"),s=n("/GET"),i=n("Xr0V"),o=n("amCE"),l=n("tNN4"),u=n("geX1"),d=n("zjfJ"),j=n("yFcC"),x=n.n(j),b=n("oT5u"),h=n.n(b),p=n("cjvV"),f=n("67po"),m=n("ue4z"),O=n("xH1m"),v=n("5srZ");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=h.a.slice(-100),S=function(e){return new Date(e.date).valueOf()},w=function(e){return e.close},C=N[Math.floor(N.length/2)+4];function k(e){var t,n,a=e.width,s=e.height,i=e.compact,o=void 0!==i&&i,l=e.children,u=Object(c.useMemo)((function(){return Object(p.a)({domain:Object(m.b)(N,(function(e){return S(e)})),range:[0,a]})}),[a]),d=Object(c.useMemo)((function(){return Object(f.a)({domain:Object(m.b)(N,(function(e){return w(e)})),range:[s-100,100]})}),[s]),j=Object(c.useState)(!1),b=j[0],h=j[1],y=Object(c.useState)(!1),k=y[0],E=y[1],A=Object(c.useState)("Title"),_=A[0],T=A[1],P=Object(c.useState)(o?"Subtitle":"Subtitle with deets and deets and deets and deets"),z=P[0],V=P[1],D=Object(c.useState)("elbow"),L=D[0],q=D[1],R=Object(c.useState)("circle"),I=R[0],M=R[1],H=Object(c.useState)(!0),B=H[0],K=H[1],Y=Object(c.useState)("auto"),J=Y[0],F=Y[1],G=Object(c.useState)("auto"),W=G[0],X=G[1],Z=Object(c.useState)(o?100:175)[0],Q=Object(c.useState)({x:null!==(t=u(S(C)))&&void 0!==t?t:0,y:null!==(n=d(w(C)))&&void 0!==n?n:0,dx:o?-50:-100,dy:o?-30:-50}),U=Q[0],$=Q[1];return Object(c.useEffect)((function(){$((function(e){var t,n;return g(g({},e),{},{x:null!==(t=u(S(C)))&&void 0!==t?t:0,y:null!==(n=d(w(C)))&&void 0!==n?n:0})}))}),[u,d]),Object(r.jsxs)(r.Fragment,{children:[l({AnnotationComponent:b||k?O.a:v.a,annotationPosition:U,approxTooltipHeight:70,connectorType:L,data:N,editLabelPosition:b,editSubjectPosition:k,getDate:S,getStockValue:w,horizontalAnchor:"auto"===W?void 0:W,labelWidth:Z,setAnnotationPosition:$,showAnchorLine:B,subjectType:I,subtitle:z,title:_,verticalAnchor:"auto"===J?void 0:J,xScale:u,yScale:d}),!o&&Object(r.jsxs)("div",{className:"jsx-272244364 controls",children:[Object(r.jsxs)("div",{className:"jsx-272244364",children:[Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("strong",{className:"jsx-272244364",children:"Title"}),"\xa0\xa0",Object(r.jsx)("input",{type:"text",onChange:function(e){return T(e.target.value)},value:_,className:"jsx-272244364"})]}),"\xa0\xa0\xa0",Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("strong",{className:"jsx-272244364",children:"Subtitle"}),"\xa0\xa0",Object(r.jsx)("input",{type:"text",onChange:function(e){return V(e.target.value)},value:z,className:"jsx-272244364"})]}),"\xa0\xa0\xa0",Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(){return E(!k)},checked:k,className:"jsx-272244364"}),"Edit subject position"]}),"\xa0\xa0",Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(){return h(!b)},checked:b,className:"jsx-272244364"}),"Edit label position"]})]}),Object(r.jsxs)("div",{className:"jsx-272244364",children:[Object(r.jsx)("strong",{className:"jsx-272244364",children:"Connector type"}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return q("elbow")},checked:"elbow"===L,className:"jsx-272244364"}),"Elbow"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return q("line")},checked:"line"===L,className:"jsx-272244364"}),"Straight line"]})]}),Object(r.jsxs)("div",{className:"jsx-272244364",children:[Object(r.jsx)("strong",{className:"jsx-272244364",children:"Subject type"}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return M("circle")},checked:"circle"===I,className:"jsx-272244364"}),"Circle"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return M("vertical-line")},checked:"vertical-line"===I,className:"jsx-272244364"}),"Vertical line"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return M("horizontal-line")},checked:"horizontal-line"===I,className:"jsx-272244364"}),"Horizontal line"]})]}),Object(r.jsxs)("div",{className:"jsx-272244364",children:[Object(r.jsx)("strong",{className:"jsx-272244364",children:"Horizontal label anchor"}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return X("auto")},checked:"auto"===W,className:"jsx-272244364"}),"auto"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return X("start")},checked:"start"===W,className:"jsx-272244364"}),"left"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return X("middle")},checked:"middle"===W,className:"jsx-272244364"}),"middle"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return X("end")},checked:"end"===W,className:"jsx-272244364"}),"right"]})]}),Object(r.jsxs)("div",{className:"jsx-272244364",children:[Object(r.jsx)("strong",{className:"jsx-272244364",children:"Vertical label anchor"}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return F("auto")},checked:"auto"===J,className:"jsx-272244364"}),"auto"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return F("start")},checked:"start"===J,className:"jsx-272244364"}),"top"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return F("middle")},checked:"middle"===J,className:"jsx-272244364"}),"middle"]}),Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"radio",onChange:function(){return F("end")},checked:"end"===J,className:"jsx-272244364"}),"bottom"]}),Object(r.jsx)("div",{className:"jsx-272244364",children:Object(r.jsxs)("label",{className:"jsx-272244364",children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(){return K(!B)},checked:B,className:"jsx-272244364"}),"Show anchor line"]})})]})]}),Object(r.jsx)(x.a,{id:"272244364",children:[".controls.jsx-272244364{font-size:13px;line-height:1.5em;}",".controls.jsx-272244364>div.jsx-272244364{margin-bottom:4px;}"]})]})}try{k.displayName="ExampleControls",k.__docgenInfo={description:"",displayName:"ExampleControls",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/ExampleControls.tsx#ExampleControls"]={docgenInfo:k.__docgenInfo,name:"ExampleControls",path:"src/sandboxes/visx-annotation/ExampleControls.tsx#ExampleControls"})}catch(T){}function E(e){var t=e.value,n=e.scale,a=e.accessor,r=e.data,c=Object(m.a)(a).left,s=n.invert(t),i=c(r,s,1),o=r[i-1],l=r[i],u=o;return l&&a(l)&&(u=s-a(o)>a(l)-s?l:o),u}try{E.displayName="findNearestDatum",E.__docgenInfo={description:"",displayName:"findNearestDatum",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"ScaleLinear<unknown, unknown, never> | ScaleTime<unknown, unknown, never>"}},accessor:{defaultValue:null,description:"",name:"accessor",required:!0,type:{name:"(d: AppleStock) => number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AppleStock[]"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/findNearestDatum.ts#findNearestDatum"]={docgenInfo:E.__docgenInfo,name:"findNearestDatum",path:"src/sandboxes/visx-annotation/findNearestDatum.ts#findNearestDatum"})}catch(T){}var A=["#ecf4f3","#68b0ab","#006a71"];function _(e){var t=e.width,n=e.height,c=e.compact,d=void 0!==c&&c;return Object(r.jsx)(k,{width:t,height:n,compact:d,children:function(e){var c=e.AnnotationComponent,d=e.annotationPosition,j=e.approxTooltipHeight,x=e.connectorType,b=e.data,h=e.editLabelPosition,p=e.editSubjectPosition,f=e.getDate,m=e.getStockValue,O=e.horizontalAnchor,v=e.labelWidth,y=e.setAnnotationPosition,g=e.showAnchorLine,N=e.subjectType,S=e.subtitle,w=e.title,C=e.verticalAnchor,k=e.xScale,_=e.yScale;return Object(r.jsxs)("svg",{width:t,height:n,children:[Object(r.jsx)("rect",{width:t,height:n,fill:A[0]}),Object(r.jsx)(u.a,{stroke:A[2],strokeWidth:2,data:b,x:function(e){var t;return null!==(t=k(f(e)))&&void 0!==t?t:0},y:function(e){var t;return null!==(t=_(m(e)))&&void 0!==t?t:0}}),Object(r.jsxs)(c,{width:t,height:n,x:d.x,y:d.y,dx:d.dx,dy:d.dy,canEditLabel:h,canEditSubject:p,onDragEnd:function(e){e.event;var r,c,s=Object(a.a)(e,["event"]),i=E({accessor:"horizontal-line"===N?m:f,data:b,scale:"horizontal-line"===N?_:k,value:"horizontal-line"===N?s.y:s.x}),o=null!==(r=k(f(i)))&&void 0!==r?r:0,l=null!==(c=_(m(i)))&&void 0!==c?c:0,u=s.dx>0&&o+s.dx+v>t||s.dx<0&&o+s.dx-v<=0,d=s.dy>0&&n-(l+s.dy)<j||s.dy<0&&l+s.dy-j<=0;y({x:o,y:l,dx:(u?-1:1)*s.dx,dy:(d?-1:1)*s.dy})},children:[Object(r.jsx)(s.a,{stroke:"#ff7e67",type:x}),Object(r.jsx)(i.a,{backgroundFill:"white",showAnchorLine:g,anchorLineStroke:A[2],backgroundProps:{stroke:A[1]},fontColor:A[2],horizontalAnchor:O,subtitle:S,title:w,verticalAnchor:C,width:v}),"circle"===N&&Object(r.jsx)(o.a,{stroke:"#ff7e67"}),"circle"!==N&&Object(r.jsx)(l.a,{orientation:"vertical-line"===N?"vertical":"horizontal",stroke:"#ff7e67",min:0,max:"vertical-line"===N?n:t})]})]})}})}try{_.displayName="Example",_.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/Example.tsx#Example"]={docgenInfo:_.__docgenInfo,name:"Example",path:"src/sandboxes/visx-annotation/Example.tsx#Example"})}catch(T){}},ue4z:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return d}));var a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},r=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return a(t(e),n)}),{left:function(t,n,a,r){for(null==a&&(a=0),null==r&&(r=t.length);a<r;){var c=a+r>>>1;e(t[c],n)<0?a=c+1:r=c}return a},right:function(t,n,a,r){for(null==a&&(a=0),null==r&&(r=t.length);a<r;){var c=a+r>>>1;e(t[c],n)>0?r=c:a=c+1}return a}}};var c=r(a);c.right,c.left;var s=function(e,t){var n,a,r,c=e.length,s=-1;if(null==t){for(;++s<c;)if(null!=(n=e[s])&&n>=n)for(a=r=n;++s<c;)null!=(n=e[s])&&(a>n&&(a=n),r<n&&(r=n))}else for(;++s<c;)if(null!=(n=t(e[s],s,e))&&n>=n)for(a=r=n;++s<c;)null!=(n=t(e[s],s,e))&&(a>n&&(a=n),r<n&&(r=n));return[a,r]},i=Array.prototype,o=(i.slice,i.map,function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),c=new Array(r);++a<r;)c[a]=e+a*n;return c});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var l=function(e,t){var n,a,r=e.length,c=-1;if(null==t){for(;++c<r;)if(null!=(n=e[c])&&n>=n)for(a=n;++c<r;)null!=(n=e[c])&&n>a&&(a=n)}else for(;++c<r;)if(null!=(n=t(e[c],c,e))&&n>=n)for(a=n;++c<r;)null!=(n=t(e[c],c,e))&&n>a&&(a=n);return a},u=function(e){for(var t,n,a,r=e.length,c=-1,s=0;++c<r;)s+=e[c].length;for(n=new Array(s);--r>=0;)for(t=(a=e[r]).length;--t>=0;)n[--s]=a[t];return n},d=function(e){if(!(r=e.length))return[];for(var t=-1,n=function(e,t){var n,a,r=e.length,c=-1;if(null==t){for(;++c<r;)if(null!=(n=e[c])&&n>=n)for(a=n;++c<r;)null!=(n=e[c])&&a>n&&(a=n)}else for(;++c<r;)if(null!=(n=t(e[c],c,e))&&n>=n)for(a=n;++c<r;)null!=(n=t(e[c],c,e))&&a>n&&(a=n);return a}(e,j),a=new Array(n);++t<n;)for(var r,c=-1,s=a[t]=new Array(r);++c<r;)s[c]=e[c][t];return a};function j(e){return e.length}}}]);